<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="style.css">
		<title></title>
		<script src="js/jquery-latest.js"></script>

   		<script type="text/javascript">
			function initMenu() {

				var block = $(".day");
					block.addClass("clickable");
					block.hover(function(){window.status = $(this)}, function(){window.status = ""});
				
				$('.open').hide();
				block.click(
					function() {
						$(this).parents('div:eq(0)').find('.open').slideToggle('fast');	
					}

				);}


			$(document).ready(function() {initMenu();});
   		</script>		

	</head>
	<body>

	
		<div id="calendar">	
		<h1 align="center">教練課表</h1>		
		<br>
		<div class='monyyyy'>
			<div >
				<div id="lastM"><<</div>
			</div>
			<div id = "MD"></div>
			<div >
				<div id="nextM" >>></div>
			</div>
		</div>
			<div id="calcontainer">
				<div id="calheader">
				</div>		
				<div id="daysweek">
					<div class="dayweek"><p>Sunday</p></div>
					<div class="dayweek"><p>Monday</p></div>
					<div class="dayweek"><p>Tuesday</p></div>
					<div class="dayweek"><p>Wednesday</p></div>
					<div class="dayweek"><p>Thursday</p></div>
					<div class="dayweek"><p>Friday</p></div>
					<div class="dayweek  brn"><p>Saturday</p></div>
					
				</div>
				<div id="daysmonth">
<!---------------------------------------- week 1 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
									<li class="orange"></li>
									
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><a href="http://3.22.194.14/"><p>早上時段 09:00 History: examination</p></a></li>
									<li class="orange l4 a1"><p>中午時段 10:00   Camp meeting</p></li>	
									<li class="orange l4 a1"><p>下午時段 19:00   Camp meeting</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><a href="http://3.22.194.14/"><p>早上時段 09:00 History: examination</p></a></li>
									<li class="orange l4 a1"><p>中午時段 10:00   Camp meeting</p></li>	
									<li class="orange l4 a1"><p>下午時段 19:00   Camp meeting</p></li>		
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="none"></li>
									<li class="none"></li>
									<li class="none"></li>

								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="none l4 a1"><p></p></li>
									<li class="none l4 a1"><p></p></li>	
									<li class="none l4 a1"><p></p></li>			
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Competition: orange Hawks - orange Parrots</p></li>
									<li class="orange l4 a1"><p>21:00 After Halloween party</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>11:00 studying</p></li>	
									<li class="orange l4 a1"><p>14:00 Stratego-game</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>	
<!---------------------------------------- week 2 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Math</p></li>
									<li class="orange l4 a1"><p>19:00 gathering</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>08:00 Biology</p></li>
									<li class="orange l4 a1"><p>10:00 ICT</p></li>
									<li class="orange l4 a1"><p>20:00 Cookie bake-off</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>10:00 Athletics</p></li>
									<li class="orange l4 a1"><p>17:00 Date with ...</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Competition: orange Hawks - orange Foxes</p></li>
									<li class="orange l4 a1"><p>18:00 Cinema: Tin Tin </p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>11:00 studying</p></li>	
									<li class="orange l4 a1"><p>14:00 Door 2 Door cookies</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>	
<!---------------------------------------- week 3 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Math</p></li>
									<li class="orange l4 a1"><p>19:00 gathering</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>08:00 Biology</p></li>
									<li class="orange l4 a1"><p>10:00 ICT</p></li>
									<li class="orange l4 a1"><p>20:00 Cookie bake-off</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>10:00 Athletics</p></li>
									<li class="orange l4 a1"><p>17:00 Date with ...</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Competition: orange Hawks - orange Foxes</p></li>
									<li class="orange l4 a1"><p>18:00 Cinema: Tin Tin </p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>11:00 studying</p></li>	
									<li class="orange l4 a1"><p>14:00 Door 2 Door cookies</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>	
<!---------------------------------------- week 4 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Math test</p></li>
									<li class="orange l4 a1"><p>19:00 gathering</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>08:00 English reading</p></li>
									<li class="orange l4 a1"><p>11:00 Physics task</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>20:00 Zoo Night opening!</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Competition: orange Hawks - Black Ravens</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>09:00 studying</p></li>	
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>	
<!---------------------------------------- week 5 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Math test</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>20:00 gathering</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>10:00 Christmas decoration</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>20:00 Quiz night</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>
<!---------------------------------------- week 5 end ---------------------------------------->
<!---------------------------------------- week 6 ---------------------------------------->
					<div class="week">
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>13:00 Math test</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>		
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>20:00 gathering</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>19:00 Practice</p></li>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
								</ul>
							</div>	
							<!-- slide closed -->
						</div>	
						<div class="day">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>10:00 Christmas decoration</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>				
						<div class="day brn">
							<div class="daybar"></div>
							<div class="dots">
								<ul>
									<li class="orange"></li>
								</ul>
							</div>	
							<!-- slide open -->
							<div class="open">
								<ul>
									<li class="orange l4 a1"><p>20:00 Quiz night</p></li>						
								</ul>
							</div>	
							<!-- slide closed -->
						</div>			
					</div>
<!---------------------------------------- week 6 end ---------------------------------------->
				</div>				
			</div>					
			<div id="calcat">
				<div class="caldot orange"></div><p>有課</p>
				<div class="caldot none"></div><p>可預約</p><br>
</div>				
</div>	
</div>
<script type="text/javascript">
	var monthName = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];//取值剛好4傳3 索引值3就是四月

    	//抓DOM
   	var lastM = document.getElementById("lastM");//要改變的按鈕 上個月
   	var MD = document.getElementById("MD");//填 現在的年月
   	var nextM = document.getElementById("nextM");//要改變的按鈕 下個月
   	var daybar = document.getElementsByClassName("daybar");//要插入日期的地方
console.log(daybar);

	function clean(){
		var open = document.getElementsByClassName("open");
		var dots = document.getElementsByClassName("dots");
		for (var i = 0; i < 42; i++) {
		dots[i].innerHTML=`<div id = "dotsul${i}">
						<ul>
									<li class="none"></li>
									<li class="none"></li>
									<li class="none"></li>
									
								</ul>
					</div>`;
							

		 open[i].innerHTML=`<div id = "openul${i}">
	 					<ul>
	 						<li class="none l4 a1"><p></p></li>
	 						<li class="none l4 a1"><p></p></li>
	 						<li class="none l4 a1"><p></p></li>						
	 					</ul>
	 					</div>`;
		}
	}

	clean();

	

   	function calender(daynow){
    		var year = Y;//現在的年
    		var month = M;//現在的月
    		var week = D;
    		var day = 1;//從一開始的日期
    		var allday = isLeap(Y,M);//拿到當月日期總天數
    		resetAll();
    		for(day=1; day<=allday ; day++){
    			//從星期幾開始 加上put位置從0開始 day要減一
    			daybar[week+day-1].innerText=day;
    		}  		
    		MD.innerText = monthName[M] +" "+ Y;
    	}


    	//現在時間
		function daynow(){
			today = new Date();
			D = today.getDay();//week 0是週日 1是一
			M = today.getMonth();//4月是傳3
			Y = today.getFullYear();
			var endDate = isLeap(Y);
			return today;
		}
		//閏年判斷
		function isLeap(Y,M){
			var isLeapYear = false;
			var feb_end = 28;
			if (Y % 4 === 0){
				isLeapYear = true;
				feb_end = 29;
			}
			if (Y % 100 === 0){
				isLeapYear = false;    
			}
			if (Y % 400 === 0){
				isLeapYear = true;
				feb_end = 29;
			}
			var lastd = [31, feb_end, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
			return lastd[M];
		}
		//清除當前的日期
    	function resetAll(){
    		for(var i = 0 ; i<=41;i++){
    			daybar[i].innerHTML="-";
    		}

    	}
    	//改變下個月
    	function changeN(daynow){
    		var countM = 1;
    		var countY = 0;
    		newday = new Date(Y+countY,M+countM,1);

    		if((M+countM)==12){
    			countY++;
    		}

			D = newday.getDay();//week 0是週日 1是一
			M = newday.getMonth();//4月是傳3
			Y = newday.getFullYear();
			var endDate = isLeap(Y);
			return newday;
		}

		//改變上個月
    	function changeL(daynow){
    		var countM = 1;
    		var countY = 0;
    		newday = new Date(Y-countY,M-countM,1);

    		if((M-countM)==1){
    			countY--;
    		}

			D = newday.getDay();//week 0是週日 1是一
			M = newday.getMonth();//4月是傳3
			Y = newday.getFullYear();
			var endDate = isLeap(Y);
			return newday;
		}

//註冊事件 往上個月
	lastM.addEventListener("click",function(e){
		changeL();
		calender();
		clean();
		add();
	});

//註冊事件 往下個月
	nextM.addEventListener("click",function(e){
		changeN();
		calender();
		clean();
		add();
	});



	calender(daynow());

			//課表加入--------------------------------------------------------------
 	function add(daynow){
    		var year = Y;//現在的年
    		var month = M;//現在的月
    		var week = D;
    		//JSON格式
 			var datejson = '{"yy":2020,"mm":4,"dd":7,"tt":10,"ss":"<p>10:00 Christmas decoration</p>"}';

 			// var day = obj.dd;//課程日期123123123213213123

 			// dayinner   (week+day-1);

  			var obj = JSON.parse(datejson);
  			console.log(obj.yy);
  			console.log(year);
  			console.log(obj.mm);
			console.log(month);
			console.log(month);
  			
  			if(obj.yy === year && obj.mm === month ){
  				console.log("ok");
  				$("#dotsul15").find("li").eq(1).attr("class", "orange");
  				switch(obj.tt){
  					case 10:
  					$("#openul34").find("li").eq(1).attr("class", "orange l4 a1");
					$("#openul34").find("li").eq(1).html(obj.ss);
  						break;
  					case 14:
						
						break;
  					case 17:

						break;
  				}
  			}
    	}	

	add();

</script>
</body>
</html>